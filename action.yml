name: 'Depressed DST Modders GitHub Action'
description: "Run different modding tools for Don't Starve Together game"
author: 'Depressed DST Modders'
inputs:
  busted:
    default: 'false'
    description: 'Run Busted'
    required: false

  luacheck:
    default: 'false'
    description: 'Run Luacheck'
    required: false

  prettier:
    default: 'false'
    description: 'Run Prettier'
    required: false

  stylua:
    default: 'false'
    description: 'Run StyLua'
    required: false

  slack:
    default: 'false'
    description: 'Enable Slack notification'
    required: false
  slack-color-default:
    default: '#dcad04' # '#1f242b'
    description: 'Default color for Slack attachment'
    required: false
  slack-color-failure:
    default: '#cc1f2d'
    description: 'Failure color for Slack attachment'
    required: false
  slack-color-success:
    default: '#24a943'
    description: 'Success color for Slack attachment'
    required: false
  slack-color-warning:
    default: '#dcad04'
    description: 'Warning color for Slack attachment'
    required: false

  ignore-failure:
    default: 'false'
    description: 'Ignore failures (action passes even when issues found or tests fail)'
    required: false
outputs:
  busted-version:
    description: 'Busted version'
  lua-version:
    description: 'Lua version'
  luacheck-version:
    description: 'Luacheck version'
  prettier-version:
    description: 'Prettier version'
  stylua-version:
    description: 'StyLua version'

  busted-total:
    description: 'Number of total tests checked by Busted'
  busted-failed:
    description: 'Number of failed tests by Busted'
  busted-passed:
    description: 'Number of passed tests by Busted'
  busted-output:
    description: 'Busted output'

  luacheck-total:
    description: 'Number of total files checked by Luacheck'
  luacheck-failed:
    description: 'Number of failed files by Luacheck'
  luacheck-passed:
    description: 'Number of passed files by Luacheck'
  luacheck-issues:
    description: 'Number of total issues found by Luacheck'
  luacheck-output:
    description: 'The list of all failed files by Luacheck'

  prettier-total:
    description: 'Number of total files checked by Prettier'
  prettier-failed:
    description: 'Number of failed files by Prettier'
  prettier-passed:
    description: 'Number of passed files by Prettier'
  prettier-issues:
    description: 'Number of total issues found by Prettier'
  prettier-output:
    description: 'The list of all failed files by Prettier'

  stylua-total:
    description: 'Number of total files checked by StyLua'
  stylua-failed:
    description: 'Number of failed files by StyLua'
  stylua-passed:
    description: 'Number of passed files by StyLua'
  stylua-issues:
    description: 'Number of total issues found by StyLua'
  stylua-output:
    description: 'The list of all failed files by StyLua'
runs:
  using: 'docker'
  image: 'Dockerfile'
